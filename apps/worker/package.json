{
  "name": "@conduit8/worker",
  "type": "module",
  "version": "0.1.0",
  "private": true,
  "description": "Conduit8 API server",
  "engines": {
    "node": ">=22.0.0",
    "npm": "please-use-pnpm"
  },
  "scripts": {
    "cf-typegen": "wrangler types --env preview",
    "typecheck": "tsc --noEmit",
    "dev": "pnpm cf-typegen && wrangler dev --env preview",
    "test": "vitest run --reporter=dot --silent",
    "test:verbose": "vitest run",
    "test:watch": "vitest watch",
    "test:unit": "vitest run tests/unit --reporter=dot --silent",
    "test:integration": "vitest run tests/integration --reporter=dot --silent",
    "deploy": "pnpm --filter @conduit8/core build && tsc && wrangler deploy --env preview --minify --outdir dist --upload-source-maps --var SENTRY_RELEASE:$(sentry-cli releases propose-version)",
    "deploy:prod": "pnpm --filter @conduit8/core build && tsc && wrangler deploy --env prod --minify --outdir dist --upload-source-maps --var SENTRY_RELEASE:$(sentry-cli releases propose-version) --var SENTRY_RELEASE:$(sentry-cli releases propose-version)",
    "lint": "eslint . --quiet",
    "lint:fix": "eslint . --fix --quiet",
    "db:generate": "drizzle-kit generate",
    "db:generate:custom": "drizzle-kit generate --custom",
    "db:auth-secret": "openssl rand -base64 32",
    "db:generate:prod": "cross-env DRIZZLE_ENV=production drizzle-kit generate",
    "db:migrate:dev": "wrangler d1 migrations apply D1 --local --env preview",
    "db:migrate:preview": "wrangler d1 migrations apply D1 --remote --env preview",
    "db:migrate:prod": "wrangler d1 migrations apply D1 --remote --env prod",
    "logs": "wrangler tail --env preview --format pretty",
    "logs:prod": "wrangler tail --env production --format pretty",
    "db:studio": "drizzle-kit studio",
    "db:studio:prod": "cross-env DRIZZLE_ENV=production drizzle-kit studio",
    "better-auth-generate": "npx @better-auth/cli@latest generate --config src/infrastructure/auth/auth-gen.ts --output src/infrastructure/persistence/database/schema/auth.ts -y",
    "stripe:tunnel": "stripe listen --forward-to localhost:8787/auth/stripe/webhook",
    "stripe:test-event": "stripe trigger payment_intent.succeeded",
    "tunnel": "cloudflared tunnel run --token-file ~/.cloudflared/conduit8-preview.token",
    "sentry:sourcemaps": "_SENTRY_RELEASE=$(sentry-cli releases propose-version) && sentry-cli releases new $_SENTRY_RELEASE --org=azcompany --project=conduit8-worker && sentry-cli sourcemaps upload --org=azcompany --project=conduit8-worker --release=$_SENTRY_RELEASE --strip-prefix 'dist/..' dist",
    "postdeploy": "pnpm sentry:sourcemaps",
    "postdeploy:prod": "npm run sentry:sourcemaps"
  },
  "dependencies": {
    "@better-auth/stripe": "1.3.9",
    "@cloudflare/containers": "^0.0.28",
    "@cloudflare/workers-oauth-provider": "^0.0.10",
    "@conduit8/core": "workspace:*",
    "@hono/zod-validator": "^0.7.3",
    "@sentry/cloudflare": "^10.15.0",
    "@slack/types": "^2.16.0",
    "@slack/web-api": "^7.10.0",
    "aws4fetch": "^1.0.20",
    "better-auth": "catalog:",
    "camelcase-keys": "^9.1.3",
    "currency-codes": "^2.2.0",
    "drizzle-orm": "^0.44.5",
    "drizzle-zod": "^0.8.3",
    "fflate": "^0.8.2",
    "gray-matter": "^4.0.3",
    "hono": "^4.9.8",
    "posthog-node": "^5.9.1",
    "resend": "^6.1.0",
    "snakecase-keys": "^9.0.2",
    "zod": "catalog:"
  },
  "devDependencies": {
    "@cloudflare/vitest-pool-workers": "^0.9.7",
    "@conduit8/eslint-config": "workspace:*",
    "@eslint/js": "^9.36.0",
    "@eslint/json": "^0.13.2",
    "@eslint/markdown": "^7.3.0",
    "@sentry/cli": "^2.56.0",
    "@types/node": "catalog:",
    "@typescript-eslint/eslint-plugin": "^8.44.1",
    "@typescript-eslint/parser": "^8.44.1",
    "@typescript-eslint/utils": "^8.44.1",
    "@vitest/coverage-istanbul": "catalog:",
    "better-sqlite3": "^12.4.1",
    "cross-env": "^10.0.0",
    "dotenv": "^17.2.2",
    "drizzle-kit": "^0.31.4",
    "eslint": "catalog:",
    "eslint-plugin-drizzle": "^0.2.3",
    "shx": "^0.4.0",
    "stripe": "^18.5.0",
    "tsx": "^4.20.5",
    "typescript": "catalog:",
    "vite-tsconfig-paths": "catalog:",
    "vitest": "catalog:",
    "wrangler": "catalog:"
  }
}
